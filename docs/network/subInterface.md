## 什么是子接口


### 子接口的定义


子接口（subinterface）是通过协议和技术将一个物理接口（interface）虚拟出来的多个逻辑接口。

相对子接口而言，这个物理接口称为主接口。每个子接口从功能、作用上来说，与每个物理接口是没有任何区别的，它的出现打破了每个设备存在物理接口数量有限的局限性。在路由器中，一个子接口的取值范围是0~4096个，当然受主接口物理性能限制，实际中并无法完全达到4096个，数量越多，各子接口性能越差。

经典应用：在拥有多个VLAN的交换机和路由器上，通过配置子接口和802.1Q协议，实现VLAN间的通信，也称 “ [单臂路由](http://baike.baidu.com/view/51139.htm)”实验。

### 子接口与主接口的关系

子接口共用主接口的物理层参数，又可以分别配置各自的链路层和网络层参数。用户可以禁用或者激活子接口，这不会对主接口产生影响；但主接口状态的变化会对子接口产生影响，特别是只有主接口处于连通状态时子接口才能正常工作。

### 子接口产生的原因

在VLAN虚拟局域网中，通常是一个物理接口对应一个 VLAN。在多个 VLAN 的网络上，无法使用单台路由器的一个物理接口实现 VLAN 间通信，同时路由器有其物理局限性，不可能带有大量的物理接口。

子接口的产生正是为了打破物理接口的局限性，它允许一个路由器的单个物理接口通过划分多个子接口的方式，实现多个VLAN间的路由和通信。

![](https://img-blog.csdn.net/20160727213254083?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)  

### 子接口的优缺点

优点 ：打破物理接口的数量限制，在一个接口中实现多个VLAN间的路由和通信。

缺点 ：多个子接口共用主接口，性能比单个物理接口差，负载大的情况下容易成为网络流量瓶颈。

由于独立的物理接口无带宽争用现象，与子接口相比，物理接口的性能更好。来自所连接的各 VLAN 流量可访问与 VLAN 相连的物理路由器接口的全部带宽，以实现 VLAN 间路由。

子接口用于 VLAN 间路由时，被发送的流量会争用单个物理接口的带宽。网络繁忙时，会导致通信瓶颈。为均衡物理接口上的流量负载，可将子接口配置在多个物理接口上，以减轻 VLAN 流量之间竞争带宽的现象。